{"version":3,"file":"static/js/118.5578c60f.chunk.js","mappings":"uOAEaA,E,QAAcC,QAAAA,KAAH,mPAMD,qBAAGC,MAAkBC,YAAYC,CAAjC,IAIA,qBAAGF,MAAkBC,YAAYE,CAAjC,I,mBCwCvB,EAxBiB,WACf,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAiBC,EAAAA,EAAAA,QAAO,MAU9B,OAhC8B,SAACC,GAC/B,IAAMJ,GAAWC,EAAAA,EAAAA,OAEjBI,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAe,WACIC,OAAOC,aAER,IACpBR,GAASS,EAAAA,EAAAA,MAEZ,EAID,OAFAF,OAAOG,iBAAiB,SAAUJ,GAE3B,WACLC,OAAOI,oBAAoB,SAAUL,EACtC,CACF,GAAE,CAACN,GACL,CAMCY,IAEAP,EAAAA,EAAAA,YAAU,WACR,IACMQ,EADe,IAAIC,gBAAgBhB,EAASiB,QACvBC,IAAI,SAC/BhB,GAASiB,EAAAA,EAAAA,IAAWJ,GACrB,GAAE,CAACf,EAASiB,OAAQf,KAGnB,iCACE,SAAC,KAAD,KACA,UAACR,EAAD,YACE,SAAC,KAAD,CAAaY,IAAKF,KAClB,SAAC,KAAD,SAIP,C","sources":["pages/MainPage.styled.js","pages/MainPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const MainWrapper = styled.main`\n  display: flex;\n  flex-direction: column;\n  gap: 64px;\n  padding-block: 64px;\n\n  @media (min-width: ${({ theme }) => theme.breakpoints.m}) {\n    padding-block: 64px 100px;\n  }\n\n  @media (min-width: ${({ theme }) => theme.breakpoints.l}) {\n    padding-block: 64px 118px;\n  }\n`;\n","import { useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useEffect, useRef } from 'react';\n\nimport { authGoogle } from 'redux/auth/operations';\nimport { Header, Description, ReviewsSlider } from 'components/Main';\nimport { MainWrapper } from './MainPage.styled';\nimport { fetchReviews } from '../redux/reviews/operations';\n\nconst useFetchReviewsOnScroll = (ref) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollPosition = window.pageYOffset;\n\n      if (scrollPosition >= 50) {\n        dispatch(fetchReviews());\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [dispatch]);\n};\nconst MainPage = () => {\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const descriptionRef = useRef(null);\n\n  useFetchReviewsOnScroll(descriptionRef);\n\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const token = searchParams.get('token');\n    dispatch(authGoogle(token));\n  }, [location.search, dispatch]);\n\n  return (\n    <>\n      <Header />\n      <MainWrapper>\n        <Description ref={descriptionRef} />\n        <ReviewsSlider />\n      </MainWrapper>\n    </>\n  );\n};\n\nexport default MainPage;\n"],"names":["MainWrapper","styled","theme","breakpoints","m","l","location","useLocation","dispatch","useDispatch","descriptionRef","useRef","ref","useEffect","handleScroll","window","pageYOffset","fetchReviews","addEventListener","removeEventListener","useFetchReviewsOnScroll","token","URLSearchParams","search","get","authGoogle"],"sourceRoot":""}